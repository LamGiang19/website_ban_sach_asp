@{
    ViewData["Title"] = "Trang ch·ªß - Vua S√°ch C≈©";
}

<!-- Banner Section -->
<section class="banner-section mb-4">
    <div class="container-fluid px-0">
        <div class="promo-banner">
            <div class="banner-content-wrapper">
                <div class="banner-left">
                    <div class="book-stack">
                        <div class="book-item">
                            <div class="book-cover">üìö</div>
                            <div class="big-sale-badge">BIG SALE</div>
                        </div>
                    </div>
                </div>
                <div class="banner-right">
                    <div class="promo-text">
                        <h1 class="promo-title">S√ÅCH ƒê·ªíNG GI√Å 9K</h1>
                        <p class="promo-subtitle">Khuy·∫øn m√£i ƒë·∫∑c bi·ªát</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- S√°ch B√°n Ch·∫°y -->
<section class="product-section mb-5">
    <div class="section-header bg-orange text-white p-3 mb-3">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center">
                <h2 class="section-title mb-0">
                    <i class="fas fa-fire"></i> S√ÅCH B√ÅN CH·∫†Y
                </h2>
                <a asp-controller="Sach" asp-action="Index" class="text-white text-decoration-none">Xem t·∫•t c·∫£ <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="product-scroll-wrapper">
            <div class="product-scroll">
                @if (ViewBag.SachBanChay != null)
                {
                    @foreach (var sach in (List<WebBanSachLg.Database.Sach>)ViewBag.SachBanChay)
                    {
                        <div class="product-card-item">
                            @await Html.PartialAsync("_SachCard", sach)
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</section>

<!-- Truy·ªán Trinh Th√°m -->
<section class="product-section mb-5">
    <div class="section-header bg-orange text-white p-3 mb-3">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center">
                <h2 class="section-title mb-0">
                    <i class="fas fa-search"></i> TRUY·ªÜN TRINH TH√ÅM
                </h2>
                <a href="#" class="text-white text-decoration-none">T·∫•t c·∫£ <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                <div class="sidebar-books">
                    @if (ViewBag.SachBanChay != null)
                    {
                        @foreach (var sach in ((List<WebBanSachLg.Database.Sach>)ViewBag.SachBanChay).Take(4))
                        {
                            <div class="sidebar-book-item">
                                @if (string.IsNullOrEmpty(sach.HinhAnh))
                                {
                                    <div class="sidebar-placeholder">
                                        <i class="fas fa-book"></i>
                                    </div>
                                }
                                else
                                {
                                    <img src="@FileUploadHelper.GetSachImagePath(sach.HinhAnh)" alt="@sach.TenSach" onerror="this.onerror=null; this.outerHTML='<div class=\'sidebar-placeholder\'><i class=\'fas fa-book\'></i></div>';">
                                }
                                <div class="sidebar-book-info">
                                    <h6>@sach.TenSach</h6>
                                    <div class="price">
                                        <span class="current-price">9,000‚Ç´</span>
                                        <span class="old-price">55,000‚Ç´</span>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
            <div class="col-md-9">
                <div class="product-scroll-wrapper">
                    <div class="product-scroll">
                        @if (ViewBag.SachTieuThuyet != null)
                        {
                            @foreach (var sach in (List<WebBanSachLg.Database.Sach>)ViewBag.SachTieuThuyet)
                            {
                                <div class="product-card-item">
                                    @await Html.PartialAsync("_SachCard", sach)
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- S√°ch Ti·ªÉu Thuy·∫øt -->
<section class="product-section mb-5">
    <div class="section-header bg-orange text-white p-3 mb-3">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center">
                <h2 class="section-title mb-0">S√ÅCH TI·ªÇU THUY·∫æT</h2>
                <a asp-controller="Sach" asp-action="Index" class="text-white text-decoration-none">Xem t·∫•t c·∫£ <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="product-scroll-wrapper">
            <div class="product-scroll">
                @if (ViewBag.SachTieuThuyet != null)
                {
                    @foreach (var sach in (List<WebBanSachLg.Database.Sach>)ViewBag.SachTieuThuyet)
                    {
                        <div class="product-card-item">
                            @await Html.PartialAsync("_SachCard", sach)
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</section>

<!-- S√°ch Khoa H·ªçc -->
<section class="product-section mb-5">
    <div class="section-header bg-orange text-white p-3 mb-3">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center">
                <h2 class="section-title mb-0">S√ÅCH KHOA H·ªåC</h2>
                <a asp-controller="Sach" asp-action="Index" class="text-white text-decoration-none">Xem t·∫•t c·∫£ <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="product-scroll-wrapper">
            <div class="product-scroll">
                @if (ViewBag.SachKhoaHoc != null)
                {
                    @foreach (var sach in (List<WebBanSachLg.Database.Sach>)ViewBag.SachKhoaHoc)
                    {
                        <div class="product-card-item">
                            @await Html.PartialAsync("_SachCard", sach)
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</section>

<!-- S√°ch Thi·∫øu Nhi -->
<section class="product-section mb-5">
    <div class="section-header bg-orange text-white p-3 mb-3">
        <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center">
                <h2 class="section-title mb-0">S√ÅCH THI·∫æU NHI</h2>
                <a asp-controller="Sach" asp-action="Index" class="text-white text-decoration-none">Xem t·∫•t c·∫£ <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="product-scroll-wrapper">
            <div class="product-scroll">
                @if (ViewBag.SachThieuNhi != null)
                {
                    @foreach (var sach in (List<WebBanSachLg.Database.Sach>)ViewBag.SachThieuNhi)
                    {
                        <div class="product-card-item">
                            @await Html.PartialAsync("_SachCard", sach)
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        $(document).ready(function() {
            $('.product-scroll').each(function() {
                const $this = $(this);
                if (!$this.data('scroll-initialized')) {
                    if (this.scrollWidth > $this.width()) {
                        $this.css('overflow-x', 'auto');
                    }
                    $this.data('scroll-initialized', true);
                }
            });
        });
    </script>
}
